{% extends 'dashboard/layout/dashboard-base.html.twig' %}

{% block title %}Dashboard{% endblock %}

{% block content %}

    <h1>Modifier une Pièce Détaché</h1>

    <form class="form" action="/dashboard/products/edit/{{ product.id }}" method="POST" enctype="multipart/form-data">

        <div class="form-group">
            <label for="name" class="form-label">Modèle</label>
            <input type="text" id="name" name="name" class="form-control" value="{{ product.name }}" required>
        </div>

        <div class="form-group">
            <label for="short_description" class="form-label">Courte Description</label>
            <input type="text" id="short_description" name="short_description" class="form-control"
                   value="{{ product.short_description }}"
                   placeholder="Assioma PRO MX est la pédale de puissance ultime" required>
        </div>

        <div class="form-group">
            <label for="long_description" class="form-label">Longue Description</label>
            <textarea type="textarea" id="long_description" name="long_description" class="form-control form-textarea"
                      placeholder="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam euismod turpis vitae nunc mollis ultricies. Quisque venenatis facilisis ligula ac vulputate. Duis maximus, velit non fringilla egestas, eros ligula ornare turpis, eu blandit velit quam a urna. Pellentesque vulputate vestibulum justo, id convallis lorem pulvinar ut. Proin nec dui non leo venenatis accumsan sit amet non felis. In faucibus nisi vitae nisi semper, id mattis magna gravida. Sed urna massa, ornare ac semper eu, sodales a turpis. Cras ullamcorper feugiat interdum. Proin rhoncus, ex non tincidunt maximus, nisl lectus blandit odio, quis malesuada ligula ante non risus. Mauris ut efficitur tortor. Aenean varius mi vel lacus tempus ullamcorper. Vestibulum cursus erat sit amet leo congue sollicitudin. Nullam ullamcorper, sem sit amet porta tincidunt, orci augue malesuada diam, id mattis turpis risus venenatis nisl. In sit amet odio ut nibh tincidunt feugiat mollis eget sapien. Nullam ut metus est. Suspendisse pretium ipsum sed justo aliquam, eu faucibus ipsum commodo.."
                      required>{{ product.long_description }}</textarea>
        </div>

        <div class="form-group">
            <label class="form-label">Image</label>
            <div class="form-file-wrapper">
                <input type="file" id="image-upload" name="image" class="form-file-input" accept="image/*">
                <label for="image-upload" class="form-file-label">
                    <div class="form-file-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                             stroke-width="2">
                            <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7"></path>
                            <line x1="16" y1="5" x2="22" y2="5"></line>
                            <line x1="19" y1="2" x2="19" y2="8"></line>
                            <circle cx="9" cy="9" r="2"></circle>
                            <path d="M21 15l-3.086-3.086a2 2 0 0 0-2.828 0L6 21"></path>
                        </svg>
                    </div>
                    <span>Glissez-déposez votre image ici ou cliquez pour sélectionner</span>
                    <span class="form-file-button">Choisir un fichier</span>
                    <span class="form-file-filename has-file" id="file-name">{{ product.image }}</span>
                    <img src="/assets/uploads/products/{{ product.image }}" alt="Aperçu de l'image" class="form-file-preview has-image" id="image-preview">
                </label>
            </div>
        </div>

        <div class="form-group">
            <label for="price" class="form-label">Prix</label>
            <input type="number" name="price" id="price" class="form-control" value="{{ product.price }}" placeholder="756,29" required>
        </div>

        <div class="form-group">
            <label for="brand" class="form-label">Marque</label>
            <input type="text" id="brand" name="brand" class="form-control" value="{{ product.brand }}"  placeholder="Assioma" required>
        </div>

        <div class="form-group">
            <label for="stock_quantity" class="form-label">Nombre en stock</label>
            <input type="number" id="stock_quantity" name="stock_quantity" class="form-control" placeholder="1" value="{{ product.stock_quantity }}" required>
        </div>

        <button type="submit" class="form-submit">Modifier</button>
    </form>
    <script type="text/javascript" src="/assets/js/imageUpload.js"></script>
{% endblock %}